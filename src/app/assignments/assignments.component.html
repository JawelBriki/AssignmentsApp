<h2>{{titre}}</h2>
<h3>Ajout de devoir</h3>
<form ngForm #addAssignmentForm 
      (submit)="onSubmit($event); addAssignmentForm.reset()" 
      class="form"
>
    <mat-form-field>
        <input matInput 
               placeholder="Nom du devoir" 
               [(ngModel)]="nomDevoir" 
               name="nomDevoir" 
               required
        >
    </mat-form-field>
    <mat-form-field>
        <mat-label>Choisissez date de rendu</mat-label>
        <input matInput [matDatepicker]="picker"
               [(ngModel)]="dateDeRendu" 
               name="dateDeRendu"
               required>
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button color="primary">
        Ajouter un devoir à rendre
    </button>
</form>

<h3>Ici en liste</h3>
<p>Nombre d'assignments : {{assignments.length}}</p>
    <mat-list>
        @for(a of assignments; track a.nom) {
            <h3 mat-sub-header>{{a.dateDeRendu | date:'d/M/YY'}}</h3>   
            <div (click)="onAssignmentClique(a)">
                @if(a.rendu) {
                    <mat-list-item appRendu>
                        Devoir initulé {{a.nom}} a été rendu.
                    </mat-list-item>
                } @else {
                    <mat-list-item appNonRendu>
                        le devoir {{a.nom}} n'a pas été rendu!
                    </mat-list-item>
                }
            </div>
            <mat-divider></mat-divider>
        }
    </mat-list>
    <!--
    @if(assignmentSelectionne) {
        <h3>Assignment sélectionné = {{assignmentSelectionne.nom}}</h3>
    }
    -->
    <app-assignment-detail [assignmentTransmis]="assignmentSelectionne"></app-assignment-detail>
    
<h3>Ici en tableau</h3>
<table>
    <thead>
        <tr>
            <th>Nom</th>
            <th>Date de rendu</th>
            <th>Rendu</th>
        </tr>
    </thead>
    <tbody>
        @for(a of assignments; track a.nom) {
        <tr>
            <td>{{a.nom}}</td>
            <td>{{a.dateDeRendu|date:'d/M/YY'}}</td>
            <td>{{a.rendu}}</td>
        </tr>
        }
    </tbody>

</table>